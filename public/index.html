<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Informed360</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue:wght@400&family=Public+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <!-- Header -->
  <header class="gn-header">
    <div class="gn-topbar">
      <div class="gn-logo" aria-label="Informed360">Informed360</div>

      <form id="searchForm" class="gn-search" role="search" aria-label="Search">
        <span class="icon" aria-hidden="true">üîç</span>
        <input id="searchInput" type="search" placeholder="Search for topics, locations & sources" autocomplete="off"/>
        <button type="button" class="chevron" tabindex="-1" aria-hidden="true">‚ñæ</button>
      </form>

      <div class="gn-actions">
        <button class="icon-btn" title="Help" aria-label="Help">‚ùî</button>
        <button class="icon-btn" title="Settings" aria-label="Settings">‚öôÔ∏è</button>
        <button class="icon-btn" title="Apps" aria-label="Apps">‚ñ¶</button>
        <button id="avatarBtn" class="avatar" title="Sign in">S</button>
      </div>
    </div>

    <nav class="gn-tabs" aria-label="Sections">
      <button class="tab active" data-cat="home">Home</button>
      <button class="tab" data-cat="foryou">For you</button>
      <button class="tab" data-cat="following" disabled>Following</button>
      <button class="tab" disabled>News Showcase</button>
      <span class="tab-divider"></span>
      <button class="tab" data-cat="india">India</button>
      <button class="tab" data-cat="world">World</button>
      <button class="tab" data-cat="local">Local</button>
      <button class="tab" data-cat="business">Business</button>
      <button class="tab" data-cat="technology">Technology</button>
      <button class="tab" data-cat="entertainment">Entertainment</button>
      <button class="tab" data-cat="sports">Sports</button>
      <button class="tab" data-cat="science">Science</button>
      <button class="tab" data-cat="health">Health</button>
    </nav>
  </header>

  <!-- Briefing row: Date (left), Ticker (center), Weather (right) -->
  <section class="gn-briefing">
    <div class="briefing-left">
      <h1 class="display-title">Your briefing</h1>
      <div id="briefingDate" class="briefing-date"></div>
    </div>
    <div id="marketTicker" class="ticker" aria-live="polite"></div>
    <div id="weatherCard" class="weather-card" aria-live="polite"></div>
  </section>

  <!-- 3-column layout -->
  <main class="layout">
    <!-- LEFT: PINNED + LEADERBOARD BELOW -->
    <aside class="left">
      <!-- Pinned topics / pinned news (Grid 5) -->
      <div class="block-card">
        <div class="block-header">
          <span class="block-title">Pinned</span>
        </div>
        <div class="pinned-controls">
          <input
            id="pinnedInput"
            type="text"
            placeholder="Add topic to track (e.g., US tariffs)"
          />
          <button id="pinnedAddBtn" type="button">Add</button>
        </div>
        <div id="pinnedChips" class="pinned-chips"></div>
        <div id="pinned" class="block-list"></div>
      </div>

      <!-- News source sentiment leaderboard (Grid 8) -->
      <div class="leader-card card" id="leaderWrap">
        <div class="leader-head">
          <div class="leader-title">News Source Sentiment</div>
          <div class="leader-sub">(Updated every hour)</div>
        </div>
        <div id="leaderboard" class="leader-grid" aria-live="polite">
          <div class="leader-col col-pos"></div>
          <div class="leader-col col-neu"></div>
          <div class="leader-col col-neg"></div>
          <div class="leader-lines"></div>
          <div class="leader-ylabels">
            <span>75%</span><span>50%</span><span>25%</span>
          </div>
          <div class="board-empty" aria-live="polite">Not enough recent articles to rank sources yet.</div>
        </div>
        <div class="leader-foot">
          <span>Positive</span><span>Neutral</span><span>Negative</span>
        </div>
      </div>

      <!-- Industry sentiment board -->
      <div class="leader-card card" id="industryWrap">
        <div class="leader-head">
          <div class="leader-title">Industry Sentiment Leaderboard</div>
          <div class="leader-sub">(Updated every hour)</div>
        </div>
        <div id="industryBoard" class="leader-grid industry-grid" aria-live="polite">
          <div class="leader-col col-pos"></div>
          <div class="leader-col col-neu"></div>
          <div class="leader-col col-neg"></div>
          <div class="leader-lines"></div>
          <div class="leader-ylabels">
            <span>75%</span><span>50%</span><span>25%</span>
          </div>
          <div class="board-empty" aria-live="polite">Waiting for enough industry-tagged news.</div>
        </div>
        <div class="leader-foot">
          <span>Positive</span><span>Neutral</span><span>Negative</span>
        </div>
      </div>
    </aside>

    <!-- CENTER: HERO + MAIN NEWS (Grid 2 + Grid 9) -->
    <section class="center">
      <section id="hero" class="hero-carousel" aria-roledescription="carousel">
        <div class="hero-track" id="heroTrack" role="group"></div>
        <button class="hero-nav prev" id="heroPrev" aria-label="Previous">‚Äπ</button>
        <button class="hero-nav next" id="heroNext" aria-label="Next">‚Ä∫</button>
        <div class="hero-dots" id="heroDots" role="tablist" aria-label="Hero slides"></div>
      </section>

      <div class="news-section">
        <div class="controls">
          <button data-sent="all" class="chip active">All</button>
          <button data-sent="positive" class="chip">Positive</button>
          <button data-sent="neutral" class="chip">Neutral</button>
          <button data-sent="negative" class="chip">Negative</button>
          <button id="expChip" class="chip" title="Include experimental feeds">Max Feeds</button>
        </div>
        <h2 class="display-title">News</h2>
        <div id="newsList" class="news-list"></div>
      </div>
    </section>

    <!-- RIGHT: Mood (4h) + Trending + Daily -->
    <aside class="right">
      <!-- 4-hour mood microchart ABOVE Trending -->
      <div class="mood-card card" id="mood4h" aria-live="polite">
        <div class="mood-head">
          <div class="mood-title">Nation‚Äôs Mood (Last 4h)</div>
          <div class="mood-legend">
            <span class="lg pos">Positive</span>
            <span class="lg neu">Neutral</span>
            <span class="lg neg">Negative</span>
          </div>
        </div>
        <svg id="moodSpark" class="mood-spark" viewBox="0 0 300 120" role="img" aria-label="4 hour mood trend"></svg>
        <div id="moodSummary" class="mood-summary"></div>
      </div>

      <div class="block-card">
        <div class="block-header">
          <span class="block-title">Trending topics</span>
        </div>
        <div id="topicsList" class="block-list"></div>
      </div>

      <h3 class="display-title" style="margin-top:.6rem">Daily News</h3>
      <div id="daily" class="daily-list"></div>
    </aside>
  </main>

  <!-- Footer -->
  <footer class="gn-footer">
    <div class="footer-left">
      <span>Informed360 ¬© <span id="year"></span></span>
      <span class="dot">‚Ä¢</span>
      <button class="linkish" type="button">About</button>
      <button class="linkish" type="button">Feedback</button>
    </div>
    <div class="footer-right">
      <span>Made for balanced, sentiment-aware news</span>
    </div>
  </footer>

  <!-- Sign-in / preferences dialog -->
  <dialog id="signinModal" class="signin-modal">
    <form method="dialog" class="signin-card">
      <header>
        <h2>Personalize Informed360</h2>
        <p>Tell us your name, city and interests so we can tune your briefing.</p>
      </header>
      <div class="field-row">
        <label>
          <span>Name</span>
          <input id="prefName" type="text" placeholder="How should we call you?"/>
        </label>
        <label>
          <span>City</span>
          <input id="prefCity" type="text" placeholder="Eg. Bengaluru"/>
        </label>
      </div>
      <fieldset class="interests">
        <legend>Topics you care about</legend>
        <div class="interest-grid">
          <label><input type="checkbox" value="india" checked/> India</label>
          <label><input type="checkbox" value="world"/> World</label>
          <label><input type="checkbox" value="business"/> Business</label>
          <label><input type="checkbox" value="technology"/> Technology</label>
          <label><input type="checkbox" value="entertainment"/> Entertainment</label>
          <label><input type="checkbox" value="sports"/> Sports</label>
          <label><input type="checkbox" value="science"/> Science</label>
          <label><input type="checkbox" value="health"/> Health</label>
        </div>
      </fieldset>
      <menu class="actions">
        <button value="cancel" class="btn ghost">Cancel</button>
        <button id="savePrefs" value="default" class="btn">Save</button>
      </menu>
    </form>
  </dialog>

  <script src="app.js" defer></script>
</body>
</html>
