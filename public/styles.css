:root{
  --bg:#f3f4f6; --fg:#0f172a; --muted:#64748b;
  --card:#ffffff; --border:#e5e7eb; --brand:#1f4fd6;
  --chip:#eef2f7; --chip-active:#e2e8f0;
  --pos:#22c55e; --neu:#cbd5e1; --neg:#ef4444;
  --shadow:0 6px 18px rgba(16,24,40,.06);
  --radius-xl:18px; --container:1200px;
  --topstories-carousel-height:380px;

  /* leaderboard columns */
  --leader-green:#e9f6ea;   /* light green */
  --leader-grey:#eff2f5;    /* light grey */
  --leader-peach:#fdeee6;   /* light peach */
}

body.theme-dark{
  --bg:#0d0f12; --fg:#e9eef2; --muted:#9aa4ad;
  --card:#161a1f; --border:#232a31; --brand:#2563eb;
  --chip:#243041; --chip-active:#1e293b;
  --pos:#22c55e; --neu:#6b7280; --neg:#ef4444;
  --shadow:0 6px 18px rgba(0,0,0,.25);

  --leader-green:#122317;
  --leader-grey:#1b232c;
  --leader-peach:#2a1b19;
}

*{ box-sizing:border-box; min-width:0 }
html,body{ height:100%; overflow-x:hidden }
body{ margin:0; font-family:"Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif; font-size:15px; line-height:1.45; background:var(--bg); color:var(--fg) }
a{ color:inherit; text-decoration:none }
h1,h2,h3{ margin:0 0 .6rem }

.display-title{ font-family:"Merriweather", serif; font-weight:700; letter-spacing:.2px }

/* Header */
.gn-header{ position:sticky; top:0; z-index:30; background:color-mix(in oklab, var(--bg) 92%, #0000 8%); backdrop-filter:saturate(150%) blur(8px); border-bottom:1px solid var(--border) }
.gn-topbar, .gn-tabs, .gn-briefing, .layout{ width:100%; max-width:var(--container); margin:0 auto }
.gn-topbar{ display:grid; grid-template-columns:minmax(160px,220px) 1fr auto; gap:1rem; align-items:center; padding:.6rem 12px }
.gn-logo-stack{ display:flex; flex-direction:column; gap:.2rem }
.gn-logo-row{ display:flex; align-items:center; gap:.5rem }
.gn-logo-mark{ height:32px; width:auto; display:block }
.gn-logo{ font-size:1.55rem; line-height:1; font-weight:800 } /* reduced */
.gn-actions{ display:flex; justify-content:flex-end; align-items:flex-start; gap:.75rem; flex:0 0 auto }
.gn-icon-actions{ display:flex; align-items:center; gap:.5rem }
.icon-btn{ background:var(--card); border:1px solid var(--border); color:var(--muted); padding:.35rem .55rem; border-radius:12px; cursor:pointer; box-shadow:var(--shadow) }
.avatar{ width:32px; height:32px; border-radius:50%; background:linear-gradient(135deg,#7c3aed,#22d3ee); color:#fff; font-weight:700; display:grid; place-items:center }

/* Search */
.gn-search-wrap{ position:relative; min-width:0 }
.gn-search{ min-width:0; display:flex; align-items:center; gap:.6rem; background:#e9eef5; border:1px solid var(--border); color:var(--fg); padding:.45rem .7rem; border-radius:999px }
body.theme-dark .gn-search{ background:#1a222c }
.gn-search .icon{ opacity:.8 }
.gn-search input{ flex:1; background:transparent; border:0; outline:0; color:inherit; font-size:.95rem }
.gn-search .chevron{ background:transparent; border:0; color:var(--muted); font-size:1rem }
.search-results{
  position:absolute;
  top:calc(100% + 8px);
  left:0;
  right:0;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  box-shadow:var(--shadow);
  max-height:360px;
  overflow:auto;
  display:none;
  z-index:40;
}
.search-results.show{ display:block }
.search-result{
  display:flex;
  gap:.75rem;
  padding:.65rem .75rem;
  border-bottom:1px solid var(--border);
  cursor:pointer;
  align-items:flex-start;
}
.search-result:last-child{ border-bottom:0 }
.search-result:hover{ background:var(--chip) }
.search-thumb{
  width:56px;
  height:56px;
  border-radius:10px;
  overflow:hidden;
  flex:0 0 auto;
  background:var(--chip);
  display:flex;
  align-items:center;
  justify-content:center;
}
.search-thumb img,
.search-thumb .thumb-fallback{
  width:100%;
  height:100%;
  object-fit:cover;
}
.search-body{ flex:1; display:flex; flex-direction:column; gap:.25rem }
.search-title{
  font-weight:600;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}
.search-meta{
  font-size:.78rem;
  color:var(--muted);
  display:flex;
  flex-wrap:wrap;
  gap:.35rem;
}
.search-sentiment .sentiment{ margin-top:.25rem }

/* Tabs */
.gn-tabs{ display:flex; align-items:center; gap:1rem; padding:0 12px .5rem; overflow-x:auto; overflow-y:hidden }
.tab{ background:transparent; color:var(--fg); border:0; padding:.35rem 0; border-bottom:2px solid transparent; cursor:pointer; white-space:nowrap; font-weight:700 }
.tab.active{ border-bottom:2px solid var(--brand) }
.tab-divider{ width:1px; height:18px; background:var(--border) }

/* Briefing */
.gn-briefing{
  display:flex;
  flex-direction:column;
  gap:.45rem;
  align-items:stretch;
  padding:.5rem 12px .7rem;
}
.briefing-row{
  display:flex;
  align-items:center;
  width:100%;
}
.filter-row{
  display:flex;
  justify-content:center;
  width:100%;
}
.briefing-date{ color:var(--muted); font-size:.85rem }

.api-banner{
  max-width:var(--container);
  margin:.35rem auto 0;
  padding:.55rem 12px;
  font-size:.85rem;
  color:#991b1b;
  background:#fee2e2;
  border:1px solid #fecaca;
  border-radius:12px;
  box-shadow:var(--shadow);
  margin-top:.35rem;
}
.api-banner.show{
  display:block;
}
.api-banner[hidden]{
  display:none;
}

/* Ticker */
.ticker{
  display:flex;
  flex-direction:column;
  gap:.45rem;
  padding:0;
  white-space:normal;
  min-width:0;
  flex:1 1 420px;
}
.sentiment-dock{
  display:flex;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
  gap:.5rem;
  min-height:24px;
}
.sentiment-dock .controls{ margin:0 }
.ticker-row{
  display:flex;
  flex-wrap:nowrap;
  gap:.35rem;
  align-items:stretch;
  overflow-x:hidden;
  overflow-y:hidden;
}
.ticker-status{
  align-self:flex-start;
  font-size:.85rem;
  color:var(--muted);
  padding:0 .25rem;
}
.qpill{
  background:var(--card); border:1px solid var(--border); border-radius:10px; padding:.2rem .4rem;
  display:flex; align-items:baseline; gap:.35rem; box-shadow:var(--shadow); flex:0 0 auto; white-space:nowrap;
  font-variant-numeric: tabular-nums; line-height:1.1; min-width:120px; justify-content:space-between;
}
.qpill .sym{ font-weight:800; font-size:.76rem } .qpill .price{ font-weight:700; font-size:.75rem } .qpill .chg{ font-size:.7rem }
.qpill .chg.up{ color:#16a34a } .qpill .chg.down{ color:#ef4444 }

.logo-thumb{
  object-fit:contain !important;
  background:#f5f7fb !important;
  padding:10px;
}

/* Weather */
.weather-card{
  background:transparent;
  border:0;
  border-radius:999px;
  padding:.2rem .45rem;
  display:flex;
  align-items:center;
  gap:.35rem;
  justify-self:end;
  min-width:0;
  max-width:200px;
  box-shadow:none;
  flex:0 0 auto;
  align-self:flex-start;
  margin-top:0;
}
.weather-card .wx-icon{ font-size:1rem }
.weather-card .wx-city{ font-weight:600; font-size:.75rem }
.weather-card .wx-temp{ font-size:.85rem; font-weight:800 }

/* Layout */
.layout{
  display:flex;
  flex-direction:column;
  gap:.9rem;
  padding:.9rem 12px 1rem;
}
.layout > *{ align-self:stretch; }
.dash-grid{
  display:grid;
  grid-template-columns:1fr;
  gap:.9rem;
  align-items:start;
  margin-top:16px;
}
.dash-left,
.dash-middle,
.dash-right{ min-width:0; }
.dash-right-stack{
  display:flex;
  flex-direction:column;
  gap:.9rem;
}
.dash-right-stack .card{ width:100%; }
.pinned-block{ grid-area:pinned }
.hero-block{ grid-area:hero }
.narrative-block{ grid-area:narrative }
.india-block{ grid-area:india }
.source-block{ grid-area:source }
.news-block{ grid-area:news }
.trending-block{ grid-area:trending }
.industry-block{ grid-area:industry }
.daily-wide{ grid-area:daily }
.daily-wide{ display:flex; flex-direction:column }

.layout .news-section{ margin-top:0 }
.layout .leader-card,
.layout .mood-card{ margin-top:0; margin-bottom:0 }

.topRow{
  display:flex;
  flex-direction:column;
  gap:.9rem;
}
.rightCol{
  display:flex;
  flex-direction:column;
  gap:.9rem;
}
.lowerGrid{
  display:flex;
  flex-direction:column;
  gap:.9rem;
}

/* Block card */
.block-card{ background:var(--card); border:1px solid var(--border); border-radius:18px; overflow:hidden; box-shadow:var(--shadow) }
.block-header{ padding:.65rem .95rem; border-bottom:1px solid var(--border); display:flex; align-items:center; justify-content:space-between }
.block-title{ font-family:"Merriweather", serif; font-size:16px; letter-spacing:.1px }
.block-list{ display:flex; flex-direction:column }
.block-list .row{ padding:.8rem 1rem; display:flex; flex-direction:column; gap:.35rem; background:var(--card) }
.block-list .row + .row{ border-top:1px solid var(--border) }
.row-title{ font-family:"Merriweather", serif; font-weight:700; line-height:1.25; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden }
.row-meta{ color:var(--muted); font-size:.9rem; display:flex; flex-wrap:wrap; gap:.35rem; align-items:center }
.cred-badge{
  display:inline-flex;
  align-items:center;
  border-radius:999px;
  padding:.1rem .45rem;
  font-size:.65rem;
  font-weight:700;
  margin-left:.35rem;
  border:1px solid transparent;
}
.cred-badge.high{
  background:rgba(34,197,94,.15);
  color:#16a34a;
  border-color:rgba(34,197,94,.3);
}
.cred-badge.medium{
  background:rgba(251,191,36,.18);
  color:#d97706;
  border-color:rgba(251,191,36,.3);
}
.cred-badge.low{
  background:rgba(239,68,68,.16);
  color:#dc2626;
  border-color:rgba(239,68,68,.3);
}
.cred-badge.inline{
  margin-left:.4rem;
}
.topic-logos{
  display:inline-flex;
  align-items:center;
  gap:.3rem;
  margin-left:.35rem;
  flex-wrap:wrap;
}
.topic-logo,
.topic-logo-fallback{
  width:18px;
  height:18px;
  border-radius:50%;
  border:1px solid var(--border);
  background:var(--card);
  display:grid;
  place-items:center;
  font-size:.6rem;
  font-weight:700;
  color:var(--muted);
  overflow:hidden;
}
.topic-logo{ object-fit:contain; padding:2px }
.topic-logo-fallback{ object-fit:contain; padding:3px; background:#f5f7fb }
.logo-count{
  font-size:.68rem;
  font-weight:700;
  color:var(--muted);
}
#topicsList .row-title{
  display:flex;
  align-items:baseline;
  gap:6px;
  -webkit-line-clamp:unset;
  overflow:visible;
}
#topicsList .topic-title-text{
  flex:1;
  min-width:0;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}

/* Card */
.card{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius-xl); padding:.85rem; box-shadow:var(--shadow) }
.card-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:.65rem .95rem;
  border-bottom:1px solid var(--border);
  min-height:54px;
}
.card-header h3{
  font-family:"Merriweather", serif;
  font-size:16px;
  font-weight:600;
  letter-spacing:.1px;
  margin:0;
}
.card-body{ padding:.65rem .95rem; }
.pinnedCard,
.topStoriesCard,
.narrativeCard,
.indiaSentimentCard{ padding:0; }
.topStoriesCard{ display:flex; flex-direction:column; }
.pinnedCard .card-body,
.topStoriesCard .card-body{ padding:0; }
.indiaSentimentCard .card-body{ padding:.65rem .95rem; }

.narrativeCard{ background:#fff; }
.nbIcons{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:10px;
  margin-bottom:10px;
  text-align:center;
}
.nbSvg svg{ width:18px; height:18px; fill:#111; stroke:#111; }
.nbLbl{ display:block; font-size:12px; color:#111; margin-top:6px; }

.nbMain{ display:grid; grid-template-columns:52px 1fr; gap:10px; align-items:stretch; }
.nbY{ position:relative; }
.nbPro{ position:absolute; top:10px; left:0; font-size:12px; color:#6b7280; }
.nbNotPro{ position:absolute; bottom:10px; left:0; font-size:12px; color:#6b7280; }

.nbBars{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:16px;
  align-items:stretch;
  padding-right:6px;
}
.nbBar{
  position:relative;
  height:240px;
  border-radius:18px;
  overflow:hidden;
  background:linear-gradient(#c9efd2 0 50%, #f6bcbc 50% 100%);
}
.nbSource{
  position:absolute;
  left:50%;
  top:55%;
  transform:translate(-50%,-50%);
  background:rgba(255,255,255,.75);
  border-radius:10px;
  padding:6px 8px;
  display:flex;
  gap:6px;
  align-items:center;
  justify-content:center;
}
.nbSource.is-empty{ display:none; }
.nbSource img{ width:34px; height:34px; border-radius:8px; object-fit:contain; display:block; }
.nbEmpty{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  font-size:12px;
  color:#6b7280;
  background:rgba(255,255,255,.78);
  padding:6px 8px;
  border-radius:10px;
  display:none;
}
.nbEmpty.show{ display:block; }

@media(min-width:1024px){
  .dash-grid{
    grid-template-columns:320px minmax(0, 1fr) 360px;
    gap:18px;
    align-items:start;
  }
  .topStoriesCard{
    height:520px;
    overflow:hidden;
  }
  .pinnedCard{
    height:520px;
    overflow:hidden;
  }
  .pinnedCard .card-body,
  .topStoriesCard .card-body{
    height:calc(100% - 54px);
    overflow:auto;
  }
  .dash-right-stack{
    height:520px;
    gap:18px;
  }
  .dash-right-stack .card{
    min-height:0;
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }
  .dash-right-stack .card .card-body{
    height:calc(100% - 54px);
    overflow:hidden;
    flex:1 1 auto;
  }
  .lowerGrid{
    display:grid;
    grid-template-columns:300px minmax(0,1fr) 340px;
    grid-template-areas:
      "source news trending"
      "industry news trending"
      "daily daily daily";
    gap:.9rem;
    align-items:stretch;
  }
}

@media (max-width: 980px){
  .dash-grid{
    grid-template-columns:1fr;
  }
}

/* HERO */
.hero-title{ font-family:"Merriweather", serif; font-size:16px; font-weight:600; letter-spacing:.1px; white-space:nowrap }
.hero-mode{ font-family:"Inter", sans-serif; font-size:12px; font-weight:500; color:var(--muted); margin-top:.35rem }
.hero-carousels{
  display:flex;
  flex-direction:column;
  gap:.6rem;
  padding:.4rem .9rem .6rem;
  flex:1 1 auto;
  min-height:0;
  overflow:auto;
}
.topstories-carousel-shell{
  display:flex;
  flex-direction:column;
  gap:.4rem;
  position:relative;
  overflow:visible;
  flex:0 0 auto;
  min-height:0;
}
.topstories-carousel{
  border:0;
  border-radius:0;
  padding:0;
  background:transparent;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  gap:.5rem;
  height:auto;
  min-height:0;
}
.topstories-carousel-head{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; padding-bottom:.4rem; border-bottom:1px solid var(--border) }
.topstories-carousel-title{ font-family:"Merriweather", serif; font-size:13px; font-weight:700; display:flex; align-items:center; gap:.35rem }
.topstories-carousel-scope{ font-family:"Inter", sans-serif; font-size:12px; font-weight:500; color:var(--muted) }
.topstories-carousel-body{
  overflow:hidden;
  position:relative;
  flex:1 1 auto;
  min-height:0;
  display:flex;
  flex-direction:column;
  max-height:var(--topstories-carousel-height);
  padding-bottom:28px;
}
.topstories-track{
  display:flex;
  transition:transform .4s ease;
  gap:0;
  height:100%;
}
.topstories-slide{
  min-width:100%;
  display:flex;
  flex-direction:column;
  flex:1 1 auto;
  min-height:0;
  height:100%;
}
.topstories-cluster{
  display:grid;
  grid-template-columns:minmax(0,1.3fr) minmax(0,.9fr);
  gap:.75rem;
  border:1px solid var(--border);
  border-radius:12px;
  padding:.55rem;
  background:var(--card);
  align-items:stretch;
  flex:1 1 auto;
  min-height:0;
  height:100%;
}
.topstories-hero .topstories-cluster{
  border:none !important;
  box-shadow:none !important;
  outline:none !important;
}
.topStoriesGrid{
  display:grid;
  grid-template-columns:1.35fr 0.65fr;
  gap:16px;
  align-items:start;
}
.topStoriesGrid .heroCard{
  position:relative;
  border:0;
  background:transparent;
  padding:0;
}
.topStoriesGrid .heroLink{
  gap:.5rem;
}
.topStoriesGrid .heroMedia{
  height:auto;
  aspect-ratio:16 / 9;
  border-radius:14px;
  overflow:hidden;
}
.topStoriesGrid .hero-thumbnail{
  border-radius:14px;
}
.topStoriesGrid .heroHeadline{
  font-size:1.02rem;
}
.topStoriesGrid .heroMeta{
  gap:.15rem;
}
.relatedList{
  display:flex;
  flex-direction:column;
  gap:.6rem;
  min-width:0;
}
.relatedItems{
  display:flex;
  flex-direction:column;
  gap:.6rem;
}
.topstories-cluster-link{ display:flex; flex-direction:column; gap:.55rem; color:inherit; text-decoration:none }
.topstories-cluster-media{ width:100%; border-radius:12px; overflow:hidden; background:#edf2f7; height:220px; display:flex; align-items:center; justify-content:center }
.topstories-cluster-image{ width:100%; height:100%; object-fit:cover; display:block }
.topstories-cluster-image.logo-fallback{ object-fit:contain; width:70%; height:70% }
.topstories-thumb-fallback{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; padding:10px; font-size:.75rem; font-weight:700; color:#64748b; text-align:center; background:#eef2f7 }
.topstories-cluster-logo{ width:64px; height:64px; object-fit:contain }
.topstories-cluster-sentiment .bar{ background:transparent }
.topstories-cluster-headline{ font-family:"Merriweather", serif; font-weight:700; font-size:.98rem; line-height:1.25 }
.topstories-cluster-meta{ font-size:.78rem; color:var(--muted); display:flex; flex-direction:column; gap:.2rem; align-items:flex-start }
.topstories-cluster-meta-row{ display:flex; align-items:center; gap:.35rem; flex-wrap:wrap }
.topstories-cluster-meta .source{ font-weight:600 }
.topstories-cluster-meta .datetime{ white-space:normal }
.topstories-cluster-related{
  display:flex;
  flex-direction:column;
  gap:.45rem;
  max-height:100%;
  overflow:hidden;
  min-height:0;
}
.topstories-related-title{ font-size:.72rem; font-weight:600; letter-spacing:.04em; color:var(--muted) }
.topstories-related-list{
  display:flex;
  flex-direction:column;
  gap:.45rem;
  padding-right:2px;
}
.topstories-related-row{
  display:flex;
  flex-direction:column;
  gap:.35rem;
  padding:.4rem 2.2rem .4rem 0;
  text-decoration:none;
  color:inherit;
}
.topstories-related-row + .topstories-related-row{
  border-top:1px solid var(--border);
  padding-top:.6rem;
}
.topstories-related-logo{
  width:20px;
  height:20px;
  object-fit:contain;
  border-radius:4px;
  background:#eef2f7;
  padding:3px;
}
.topstories-inline-logo{ width:16px; height:16px; border-radius:50%; margin-right:4px; display:inline-block }
.topstories-related-body{ display:flex; flex-direction:column; gap:.35rem; min-width:0 }
.topstories-related-meta{ display:flex; flex-direction:column; gap:2px }
.topstories-related-meta-row{ font-size:.72rem; color:var(--muted); display:flex; align-items:center; gap:.35rem; flex-wrap:wrap; min-width:0 }
.topstories-related-meta-row .source{ font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:160px }
.topstories-related-meta-row.datetime{ white-space:normal }
.topstories-related-time{
  margin-left:auto;
  color:var(--muted);
  font-size:.7rem;
  white-space:nowrap;
}
.topstories-related-pin{ display:flex; align-self:flex-start }
.topstories-related-headline{
  font-size:.82rem;
  font-weight:600;
  color:var(--fg);
  line-height:1.25;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}
.topstories-related-row .sentiment-line{ font-size:.65rem; line-height:1.2 }
.topstories-cluster .sentiment-line{ font-size:.7rem; line-height:1.2 }
.topstories-prev,
.topstories-next{
  position:static;
  transform:none;
  z-index:3;
}
.topstories-prev{ left:auto; }
.topstories-next{ right:auto; }
.nav-btn{
  width:28px;
  height:28px;
  border-radius:999px;
  border:1px solid var(--border);
  background:#fff;
  box-shadow:var(--shadow);
  cursor:pointer;
}
.nav-btn.spacer{
  border:0;
  background:transparent;
  box-shadow:none;
  pointer-events:none;
}
.nav-btn:active{ transform:scale(0.98); }
.topstories-footer{
  display:flex;
  flex-direction:column;
  gap:.35rem;
  padding:.4rem .1rem .2rem;
  margin-top:auto;
}
.topstories-nav{
  position:absolute;
  top:50%;
  left:0;
  right:0;
  transform:translateY(-50%);
  display:flex;
  align-items:center;
  justify-content:space-between;
  min-height:28px;
  padding:0 .4rem;
  gap:.35rem;
  pointer-events:none;
}
.topstories-nav .nav-btn{
  pointer-events:auto;
}
.topstories-dots{
  position:absolute;
  bottom:8px;
  left:0;
  right:0;
  display:flex;
  justify-content:center;
  gap:.35rem;
  margin-top:0;
  padding-bottom:.1rem;
  flex:0 0 auto;
}
.topstories-dots button{ width:6px; height:6px; border-radius:50%; border:0; background:#cbd5e1; cursor:pointer }
.topstories-dots button.active{ background:var(--brand) }
.topstories-empty{ padding:.8rem; border:1px dashed var(--border); border-radius:12px; text-align:center; color:var(--muted); font-size:.85rem }
.topstories-related-empty{ padding:.2rem 0; color:var(--muted); font-size:.75rem }
.top-stories-slide{ display:flex; flex-direction:column; height:100%; min-height:100%; position:relative }
.ts-content{ flex:0 0 auto; padding:.2rem .95rem .4rem; display:flex; flex-direction:column; gap:.4rem }
.ts-trend{ flex:1 1 auto; padding:.2rem .95rem .45rem; display:flex; flex-direction:column; gap:.3rem; min-height:100px }
.ts-trend-label{ font-family:"Inter", sans-serif; font-size:11px; font-weight:500; color:var(--muted) }
.ts-trend-chart{ position:relative; flex:1 1 auto; min-height:90px }
.ts-trend-chart svg{ width:100%; height:100%; display:block }
.ts-trend-axis{ stroke:#e2e8f0; stroke-width:1; opacity:.7 }
.ts-trend-line{ fill:none; stroke-width:2.5; stroke-linecap:round }
.ts-trend-line.pos{ stroke:var(--pos) }
.ts-trend-line.neu{ stroke:#94a3b8 }
.ts-trend-line.neg{ stroke:var(--neg) }
.ts-trend-hit{ fill:transparent; cursor:pointer }
.ts-trend-tooltip{
  position:absolute;
  left:12px;
  top:8px;
  background:rgba(15, 23, 42, 0.92);
  color:#fff;
  font-size:11px;
  padding:6px 8px;
  border-radius:8px;
  opacity:0;
  pointer-events:none;
  transition:opacity .15s ease;
  max-width:220px;
}
.ts-trend-tooltip.show{ opacity:1 }
.hero-cluster{
  display:grid;
  grid-template-columns:minmax(0,1.2fr) minmax(0,1fr);
  gap:.9rem;
  flex:1 1 auto;
}
.hero-featured{ display:flex; flex-direction:column; gap:.65rem }
.hero-featured-media{ display:flex; flex-direction:column; gap:.5rem; align-items:flex-start }
.hero-featured-link{ display:flex; flex-direction:column; gap:.65rem; color:inherit; text-decoration:none }
.hero-media{ position:relative; border-radius:12px; overflow:hidden; background:#edf2f7 }
.hero-slide .hero-img{ height:190px }
.hero-slide .hero-img img{ width:100%; height:100%; object-fit:cover; display:block }
.hero-featured-body{ display:flex; flex-direction:column; gap:.35rem; color:inherit; text-decoration:none }
.hero-meta{ display:flex; align-items:center; gap:.35rem; color:var(--muted); font-size:.82rem; min-width:0 }
.hero-source{ display:flex; align-items:center; gap:.35rem; min-width:0; font-weight:600 }
.hero-source-name{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:140px }
.hero-dot{ color:var(--muted) }
.hero-time{ white-space:nowrap }
.ts-source-logo{
  width:16px;
  height:16px;
  border-radius:50%;
  object-fit:cover;
  flex:0 0 auto;
  background:#eef2f7;
}
.ts-source-logo.fallback{
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:.6rem;
  font-weight:700;
  color:#64748b;
  border:1px solid #e2e8f0;
}
.hero-headline{
  font-family:"Merriweather", serif;
  font-size:1.05rem;
  line-height:1.28;
  font-weight:700;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}
.hero-story-label{
  font-size:.7rem;
  text-transform:uppercase;
  letter-spacing:.08em;
  color:var(--muted);
  font-weight:600;
}
.hero-story-sentiment{
  margin-top:.4rem;
  padding:.5rem .6rem;
  background:var(--chip);
  border-radius:12px;
  border:1px solid var(--border);
}
.hero-story-sentiment-title{
  font-size:.72rem;
  font-weight:600;
  color:var(--muted);
  margin-bottom:.35rem;
}
.hero-related{ display:flex; flex-direction:column; gap:.65rem }
.hero-related-item{ display:flex; flex-direction:column; gap:.35rem }
.hero-related-item a{ color:inherit; text-decoration:none; display:flex; flex-direction:column; gap:.2rem }
.hero-featured-media .ts-pin,
.hero-related-item .ts-pin{ align-self:flex-start }
.hero-related-headline{
  font-size:.95rem;
  line-height:1.3;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
  font-weight:600;
}
.hero-sentiment{
  margin-top:.2rem;
  background:transparent;
  border:0;
  padding:0;
}
.hero-sentiment .bar{ background:transparent }
.hero-sentiment .sentiment-line{ font-size:.7rem }
.hero-nav{ position:absolute; top:50%; transform:translateY(-50%); background:#fff; color:#111; border:1px solid var(--border); width:28px; height:28px; border-radius:50%; box-shadow:var(--shadow); display:grid; place-items:center; cursor:pointer }
.ts-nav{ top:auto; bottom:45%; transform:translateY(50%) }
.hero-nav.prev{ left:8px } .hero-nav.next{ right:8px }
.hero-dots{ display:flex; gap:.35rem; justify-content:center; padding:.3rem .45rem .35rem; margin-top:auto }
.hero-dots button{ width:6px; height:6px; border-radius:50%; border:0; background:#cbd5e1; cursor:pointer }
.hero-dots button.active{ background:var(--brand) }

/* News list */
.news-section{ margin-top:.8rem }
.controls{ display:flex; gap:.5rem; align-items:center; margin:.1rem 0 .7rem; flex-wrap:wrap }
.chip{ border:1px solid var(--border); background:var(--chip); color:var(--fg); border-radius:999px; padding:.3rem .65rem; font-size:.82rem; cursor:pointer; user-select:none }
.chip.active{ background:var(--chip-active); border-color:var(--brand) }
.news-list{ display:flex; flex-direction:column; gap:.85rem }
.news-item{ display:grid; grid-template-columns:88px minmax(0,1fr); gap:.85rem; align-items:start; background:var(--card); border:1px solid var(--border); border-radius:var(--radius-xl); padding:.65rem 2.6rem .65rem .85rem; box-shadow:var(--shadow) }
.news-item{ position:relative }
.news-side{ display:flex; flex-direction:column; gap:.4rem; align-items:flex-start }
.news-item .thumb{ width:88px; height:70px; object-fit:cover; border-radius:10px; background:#f3f4f6 }
.news-item .thumb.logo-thumb{ object-fit:contain; padding:8px; background:#f3f4f6 }
.news-item .thumb.placeholder-thumb{ object-fit:contain; padding:12px; background:#f3f4f6 }
.thumb-fallback{
  width:88px;
  height:70px;
  border-radius:10px;
  background:#f5f7fb;
  color:#6b7280;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  font-size:.72rem;
  font-weight:600;
  padding:6px;
}
.news-body{ display:flex; flex-direction:column; gap:.35rem; min-width:0 }
.news-item .title{ font-family:"Merriweather", serif; font-weight:700; line-height:1.3; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden }
.pro-attributes{ display:flex; align-items:center; gap:.35rem; flex-wrap:wrap }
.pro-attr{
  font-size:.85rem;
  line-height:1;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.pro-attr.is-green{ color:#16a34a }
.pro-attr.is-red{ color:#dc2626 }
.meta{ color:var(--muted); font-size:.9rem; display:flex; gap:.5rem; align-items:center; min-width:0; flex-wrap:wrap }
.meta .meta-time{ flex-basis:100%; min-width:0; max-width:100%; white-space:normal; overflow-wrap:anywhere }
.card-actions{ display:flex; align-items:center; gap:.35rem }
.pin-toggle{
  border:1px solid var(--border);
  background:var(--card);
  color:var(--muted);
  border-radius:999px;
  padding:.2rem .55rem;
  font-size:.72rem;
  font-weight:600;
  cursor:pointer;
  box-shadow:var(--shadow);
}

/* Top Stories: legacy layout styles removed */
.ts-pin{ padding:.15rem .5rem; font-size:.7rem }
.pin-toggle.active{
  color:var(--brand);
  border-color:var(--brand);
  background:var(--chip-active);
}
.hero-slide .pin-toggle{ margin:0 }
.share-btn{
  border:1px solid var(--border);
  background:var(--card);
  color:var(--muted);
  border-radius:999px;
  padding:.2rem .55rem;
  font-size:.72rem;
  font-weight:600;
  cursor:pointer;
  box-shadow:var(--shadow);
}
.share-btn.copied{
  color:var(--brand);
  border-color:var(--brand);
  background:var(--chip-active);
}
.tile-info{
  position:absolute;
  top:8px;
  right:8px;
  width:22px;
  height:22px;
  border-radius:50%;
  border:1px solid var(--border);
  background:var(--card);
  color:var(--muted);
  font-size:.7rem;
  font-weight:700;
  display:grid;
  place-items:center;
  cursor:pointer;
  box-shadow:var(--shadow);
}
.news-tile-actions{
  position:absolute;
  top:8px;
  right:8px;
  display:flex;
  gap:.35rem;
  z-index:2;
}
.news-tile-actions .tile-info{
  position:static;
}
.tile-lock{
  width:22px;
  height:22px;
  border-radius:50%;
  border:1px solid var(--border);
  background:var(--card);
  color:var(--muted);
  font-size:.7rem;
  display:grid;
  place-items:center;
  cursor:pointer;
  box-shadow:var(--shadow);
}

.topstories-cluster-primary{ position:relative }
.topstories-related-row{ position:relative }
.topstories-cluster-meta .datetime{ width:100% }
.topstories-related-meta-row.datetime{ width:100% }
.tile-action-group{
  position:absolute;
  top:10px;
  right:10px;
  display:flex;
  gap:.35rem;
  z-index:2;
}
.tile-action-group .tile-info,
.tile-action-group .share-btn{
  position:static;
  width:24px;
  height:24px;
  padding:0;
  font-size:.7rem;
}
.tile-action-group .share-btn{
  border-radius:50%;
}
.tile-action-group .share-btn::after{
  content:"⤴";
  font-size:.7rem;
}
.tile-action-group .share-btn span{ display:none }

.pinned-block .row{ position:relative; padding-right:2.6rem }
.pinned-block .tile-info{ top:10px; right:10px }
.pinned-block .tile-share{
  position:absolute;
  top:10px;
  right:40px;
}

.sentiment-sheet-overlay{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,.45);
  z-index:80;
  opacity:0;
  pointer-events:none;
  transition:opacity .2s ease;
  display:none;
}
.sentiment-sheet-overlay.show{
  opacity:1;
  pointer-events:auto;
  display:block;
}
.sentiment-sheet{
  position:static;
  background:var(--card);
  border-radius:16px;
  box-shadow:var(--shadow);
  z-index:90;
  transform:none;
  transition:transform .2s ease;
  padding:1rem;
  max-height:none;
  overflow:auto;
  display:none;
}
.sentiment-sheet.show{
  display:block;
  position:fixed;
  left:50%;
  bottom:12px;
  transform:translateX(-50%);
  width:min(520px, calc(100% - 24px));
  max-height:180px;
}
.sentiment-sheet-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:.6rem;
}
.sentiment-sheet-title{
  font-weight:700;
  font-size:1rem;
}
.sentiment-sheet-content .tooltip-sub{
  color:var(--muted);
}
.sentiment-sheet-content .tooltip-phrases span{
  background:var(--chip);
  color:var(--fg);
}

/* Sentiment meter */
.sentiment{ display:flex; flex-direction:column; gap:.2rem }
.sentiment-line{
  color:var(--muted);
  font-size:.78rem;
  line-height:1.2;
  word-break:break-word;
}
.sentiment.slim .sentiment-line{ font-size:.7rem }
.bar{ height:10px; border-radius:999px; overflow:hidden; background:#e5e7eb; border:1px solid var(--border) }
.sentiment.slim .bar{ height:6px }
.segment{ height:100%; float:left } .segment.pos{ background:var(--pos) } .segment.neu{ background:var(--neu) } .segment.neg{ background:var(--neg) }
.sentiment.mini .sentiment-line{ font-size:.68rem }
.sentiment.mini .bar{ height:6px }

/* 4-hour mood — exact look */
.mood-card{ margin-bottom:0; display:flex; flex-direction:column; flex:1 }
.mood-head{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-bottom:.4rem; padding-bottom:.45rem; border-bottom:1px solid var(--border) }
.mood-title{ font-family:"Merriweather", serif; font-weight:700; font-size:16px }
.mood-spark{ width:100%; height:auto; min-height:140px; display:block; flex:1 }
.mood-summary{ margin-top:.25rem; font-size:.86rem; color:var(--muted) }
.mood-summary .sentiment-label{ font-weight:600 }
.mood-summary .sentiment-label.pos{ color:var(--pos) }
.mood-summary .sentiment-label.neu{ color:var(--muted) }
.mood-summary .sentiment-label.neg{ color:var(--neg) }

/* Leaderboard — exact look */
.leader-card{ margin-top:.8rem; padding:.75rem .85rem .6rem }
.leader-head{ display:flex; flex-direction:column; align-items:flex-start; gap:.1rem; padding-bottom:.45rem; border-bottom:1px solid var(--border) }
.leader-title{ font-family:"Merriweather", serif; font-size:16px }
.leader-sub{ color:var(--muted); font-size:.8rem }
.lb-wrap{
  display:flex;
  align-items:stretch;
  gap:6px;
  margin-top:.35rem;
}
.lb-axis{
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  align-items:flex-start;
  color:var(--muted);
  font-size:9px;
  line-height:1.2;
  padding:6px 0;
  min-width:20px;
}
.leader-grid{
  position:relative;
  height:280px;
  border-radius:16px;
  overflow:hidden;
  border:1px solid var(--border);
  background:var(--card);
  display:grid;
  grid-template-columns:repeat(3, 1fr);
  gap:12px;
  padding:8px;
}
.lb-board{ flex:1; }
.leader-col{
  position:relative;
  border-radius:20px;
  box-shadow:inset 0 0 0 0 rgba(0,0,0,.02);
  overflow:hidden;
}
.col-pos{ background:var(--leader-green) }
.col-neu{ background:var(--leader-grey) }
.col-neg{ background:var(--leader-peach) }

.leader-lines{ display:none; }
.leader-lines::before{
  content:""; position:absolute; left:8px; right:8px; top:0; bottom:0; border-radius:16px;
  background:
    linear-gradient(to bottom, #0000 24%, #cbd5e1 24%, #cbd5e1 25%, #0000 25%,
                                  #0000 49%, #cbd5e1 49%, #cbd5e1 50%, #0000 50%,
                                  #0000 74%, #cbd5e1 74%, #cbd5e1 75%, #0000 75%);
  opacity:.7;
}
.leader-grid .badge{
  position:absolute;
  transform:translate(-50%,-50%);
  background:#fff;
  border:1px solid var(--border);
  border-radius:12px;
  padding:6px 8px;
  box-shadow:var(--shadow);
  display:flex;
  align-items:center;
  justify-content:center;
  max-width:calc(100% - 18px);
  min-width:72px;
  max-height:54px;
  text-align:center;
  word-break:break-word;
}
.leader-grid .badge img{ max-width:100%; max-height:48px; object-fit:contain; display:block }
.leader-grid .badge.text-badge{
  font-weight:700;
  font-size:1rem;
  background:transparent;
  border:none;
  box-shadow:none;
  color:var(--fg);
  max-width:calc(100% - 20px);
  padding:0;
}
.leader-grid .badge.icon-badge{
  background:transparent;
  border:none;
  box-shadow:none;
  padding:4px 6px;
  min-width:72px;
  max-width:calc(100% - 18px);
  max-height:none;
  flex-direction:column;
  gap:4px;
}
.leader-grid .badge.icon-badge img{
  width:26px;
  height:26px;
}
.leader-grid .badge.icon-badge .icon-label{
  font-size:.7rem;
  line-height:1.1;
  color:var(--muted);
  text-align:center;
  max-width:100%;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.topic-trend{
  display:inline-flex;
  align-items:center;
  margin-left:6px;
  vertical-align:baseline;
}
.topic-trend svg{
  width:72px;
  height:24px;
}
.trend-tooltip{
  position:fixed;
  z-index:60;
  background:var(--fg);
  color:var(--card);
  padding:.45rem .6rem;
  border-radius:10px;
  font-size:.72rem;
  box-shadow:var(--shadow);
  pointer-events:none;
  max-width:220px;
}
.trend-tooltip .trend-tooltip-time{
  font-weight:700;
  margin-bottom:.25rem;
}
.trend-tooltip .trend-tooltip-values{
  display:flex;
  flex-wrap:wrap;
  gap:.35rem;
}
.trend-tooltip .pos{ color:var(--pos) }
.trend-tooltip .neu{ color:var(--neu) }
.trend-tooltip .neg{ color:var(--neg) }
.sentiment-tooltip{
  position:fixed;
  z-index:70;
  background:var(--fg);
  color:var(--card);
  padding:.5rem .65rem;
  border-radius:10px;
  font-size:.72rem;
  box-shadow:var(--shadow);
  pointer-events:none;
  max-width:240px;
}
.sentiment-tooltip .tooltip-title{
  font-weight:700;
  margin-bottom:.2rem;
}
.sentiment-tooltip .tooltip-sub{
  color:color-mix(in oklab, var(--card) 70%, var(--muted) 30%);
  margin-bottom:.35rem;
}
.sentiment-tooltip .tooltip-phrases{
  display:flex;
  flex-wrap:wrap;
  gap:.25rem;
  margin-bottom:.35rem;
}
.sentiment-tooltip .tooltip-phrases span{
  background:rgba(255,255,255,.12);
  border-radius:999px;
  padding:.15rem .4rem;
  font-size:.68rem;
}
.sentiment-tooltip .tooltip-summary{
  line-height:1.35;
}
.topic-trend .trend-sparkline{
  display:block;
}
.topic-trend.pos{ color:var(--pos) }
.topic-trend.neu{ color:var(--muted) }
.topic-trend.neg{ color:var(--neg) }
.board-empty{ position:absolute; inset:0; display:none; align-items:center; justify-content:center; color:var(--muted); font-size:.9rem; padding:0 1rem; text-align:center; background:linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); }
.board-empty.show{ display:flex }
.lb-foot-wrap{
  display:grid;
  grid-template-columns:auto 1fr;
  gap:6px;
  margin-top:.2rem;
  align-items:center;
}
.lb-axis-spacer{ min-width:20px }
.leader-foot{ display:grid; grid-template-columns:repeat(3,1fr); color:var(--muted); font-size:.85rem; text-align:center }
.leader-foot span:nth-child(1){ color:var(--pos) } .leader-foot span:nth-child(3){ color:var(--neg) }

/* Pinned */
.pinned-controls{
  display:flex;
  gap:.5rem;
  padding:.65rem .95rem 0;
}
.block-helper{
  padding:.45rem .95rem 0;
  font-size:.82rem;
  color:var(--muted);
}
.pin-toast{
  padding:.35rem .95rem 0;
  font-size:.82rem;
  color:#b91c1c;
  display:none;
}
.pin-toast.show{ display:block }
.pinned-controls input{
  flex:1;
  border:1px solid var(--border);
  border-radius:10px;
  padding:.4rem .6rem;
  font-size:.9rem;
  background:var(--card);
  color:var(--fg);
}
.pinned-controls button{
  border:1px solid var(--border);
  background:var(--chip);
  border-radius:10px;
  padding:.4rem .7rem;
  font-weight:600;
  cursor:pointer;
}
.pinned-chips{
  display:flex;
  flex-wrap:wrap;
  gap:.4rem;
  padding:.5rem .95rem 0;
}
.pin-chip{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  border:1px solid var(--border);
  background:var(--chip);
  border-radius:999px;
  padding:.2rem .6rem;
  font-size:.8rem;
  cursor:pointer;
}
.pin-chip .x{
  font-size:.75rem;
  color:var(--muted);
}
.pinned-empty{
  padding:.8rem 1rem;
  color:var(--muted);
  font-size:.9rem;
}
.news-empty{
  padding:1rem;
  border:1px dashed var(--border);
  border-radius:14px;
  color:var(--muted);
  text-align:center;
}
.news-empty button{
  margin-top:.6rem;
  border:1px solid var(--border);
  background:var(--chip);
  border-radius:999px;
  padding:.4rem .9rem;
  font-weight:600;
  cursor:pointer;
}
.pin-topic{
  font-size:.8rem;
  color:var(--muted);
  font-weight:600;
}
.pin-age{
  font-size:.78rem;
  color:var(--muted);
}

.daily-wide{ margin-top:.8rem }
.daily-list{
  display:grid;
  grid-template-columns:repeat(3, minmax(0,1fr));
  gap:.85rem;
}

/* Footer */
.gn-footer{
  width:100%;
  max-width:var(--container);
  margin:0 auto;
  padding:1rem 12px;
  color:var(--muted);
  border-top:1px solid var(--border);
  margin-top:1rem;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
  flex-wrap:wrap;
}
.footer-left{
  display:flex;
  align-items:center;
  gap:.5rem;
  flex-wrap:wrap;
}
.footer-updated-group{
  display:inline-flex;
  align-items:center;
  gap:.5rem;
  flex-wrap:wrap;
}
.footer-link{
  color:var(--brand);
  font-weight:600;
}
.footer-updated{
  font-size:.85rem;
}
.footer-sources{
  flex-basis:100%;
  font-size:.56rem;
  color:var(--muted);
  line-height:1.2;
}
.dot{ color:var(--border) }

/* Modals */
dialog::backdrop{
  background:rgba(15, 23, 42, 0.55);
}
.info-modal{
  border:0;
  padding:0;
  background:transparent;
}
.info-card{
  min-width:min(520px, 92vw);
  background:var(--card);
  color:var(--fg);
  border:1px solid var(--border);
  border-radius:18px;
  padding:1.2rem 1.4rem 1rem;
  box-shadow:var(--shadow);
}
.info-card header h2{
  margin-bottom:.35rem;
  font-family:"Merriweather", serif;
}
.info-card .info-body{
  display:flex;
  flex-direction:column;
  gap:.4rem;
}
.info-card .muted{ color:var(--muted) }
.login-field{
  display:flex;
  flex-direction:column;
  gap:.25rem;
}
.login-field input{
  border:1px solid var(--border);
  border-radius:10px;
  padding:.45rem .6rem;
  font-size:.9rem;
  background:var(--card);
  color:var(--fg);
}
.login-error{
  color:#b91c1c;
  font-size:.85rem;
}
.info-card .actions{
  display:flex;
  justify-content:flex-end;
  gap:.6rem;
  margin:1rem 0 0;
}
.btn{
  border:1px solid var(--border);
  background:var(--brand);
  color:#fff;
  border-radius:999px;
  padding:.4rem .9rem;
  cursor:pointer;
  font-weight:600;
}
.btn.ghost{
  background:transparent;
  color:var(--fg);
}
.toggle-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:1rem;
  flex-wrap:wrap;
}
.toggle-group{
  display:flex;
  gap:.75rem;
  font-weight:600;
}
.toggle-group label{
  display:flex;
  align-items:center;
  gap:.35rem;
  cursor:pointer;
}
.toggle-inline{
  display:flex;
  align-items:center;
  gap:.45rem;
  font-weight:600;
}
.settings-links{
  display:flex;
  flex-wrap:wrap;
  gap:.6rem;
  margin-top:.5rem;
}
.topic-card{
  min-width:min(640px, 92vw);
}
.topic-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(140px, 1fr));
  gap:.6rem;
  margin-top:.8rem;
}
.topic-chip{
  display:flex;
  align-items:center;
  gap:.45rem;
  border:1px solid var(--border);
  background:var(--chip);
  border-radius:999px;
  padding:.35rem .7rem;
  font-weight:600;
  cursor:pointer;
  color:var(--fg);
}
.topic-chip input{ accent-color:var(--brand) }

/* Responsive */
@media (max-width:1100px){
  .gn-topbar{ grid-template-columns:1fr; row-gap:.6rem }
  .gn-actions{ justify-content:flex-start; flex-wrap:wrap }
  .weather-card{ justify-self:start }
  .topRow,
  .lowerGrid{ gap:.9rem; }
  .hero-cluster{ grid-template-columns:1fr }
  .hero-slide .hero-img{ height:220px }
  .daily-list{ grid-template-columns:1fr }
  .topstories-carousel{ height:auto; }
  .topstories-cluster{ grid-template-columns:1fr }
  .topStoriesGrid{ grid-template-columns:1fr; }
  .topstories-carousel-body{ max-height:none; }
}
@media (max-width:600px){
  .ticker{ grid-template-columns:repeat(auto-fit, minmax(140px, 1fr)) }
}

@media (max-width:768px){
  .gn-topbar{
    grid-template-columns:1fr;
    grid-template-areas:
      "logo"
      "actions"
      "search"
      "weather";
    gap:.6rem .75rem;
    align-items:center;
  }
  .gn-logo-stack{ align-items:flex-start; }
  .gn-logo-stack{ grid-area:logo; }
  .gn-actions{ grid-area:actions; }
  .gn-search-wrap{ grid-area:search; }
  .gn-logo{ font-size:1.5rem; }
  .gn-logo-mark{ height:24px; }
  .briefing-date{ font-size:.75rem; }
  .gn-search-wrap{ grid-column:1 / -1; }
  .gn-actions{
    display:flex;
    flex-direction:column;
    align-items:flex-start;
    gap:.35rem;
  }
  .weather-card{
    flex:0 0 auto;
    width:auto;
    max-width:200px;
    margin:0;
    align-self:flex-end;
  }
  .gn-tabs{
    overflow-x:auto;
    overflow-y:hidden;
    white-space:nowrap;
    flex-wrap:nowrap;
    gap:.9rem;
    padding:.35rem 12px .55rem;
  }
  .tab{ flex:0 0 auto; }
  .briefing-row{ width:100%; }
  .ticker-row{
    overflow-x:auto;
    white-space:nowrap;
    gap:.5rem;
    -webkit-overflow-scrolling:touch;
    scrollbar-width:none;
  }
  .ticker-row::-webkit-scrollbar{ display:none; }
  .filter-row{ justify-content:center; }
  .topstories-cluster{ grid-template-columns:1fr; }
  .topstories-carousel{ padding:.6rem; }
  .topstories-cluster{ padding:.6rem; }
  .topstories-cluster-meta{ flex-direction:column; }
  .topstories-related-row{ padding:.4rem 2.2rem .4rem .4rem; }
  .topstories-related-meta{ flex-direction:column; }
  .topstories-cluster-media{ height:200px; }
  .topStoriesGrid{ grid-template-columns:1fr; }
  .topstories-carousel-body{ max-height:none; }
}
/* ==========================================
   MOBILE FIX: Header + Tabs must NOT overlap
   ========================================== */

/* Make sure flex/grid children can shrink properly */
.gn-topbar, .gn-tabs, .gn-briefing, .layout { min-width: 0; }

/* Tabs: always single-line scroll row on small screens */
.gn-tabs {
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none; /* Firefox */
}
.gn-tabs::-webkit-scrollbar { display: none; } /* Chrome/Safari */
.tab { flex: 0 0 auto; } /* prevent squeeze + wrap bugs */

/* Extra-small phones */
@media (max-width: 420px) {
  .tab { font-size: 12.5px; }
  .gn-logo { font-size: 1.45rem; }
  .gn-logo-mark{ height:22px; }
  .icon-btn { padding: .3rem .45rem; border-radius: 10px; }
}

/* =========================================
   MOBILE: STOP WEATHER/ACTIONS OVERLAPPING TITLE
   ========================================= */

/* Very small phones: slightly reduce logo size */
@media (max-width: 420px){
  .gn-logo{ font-size: 1.32rem; }
}

/* ==============================
   TOP STORIES: META WRAP FIX
   ============================== */

.ts-meta{
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.ts-meta-row1,
.ts-meta-row2{
  display: block;
  min-width: 0;
}

.ts-source{
  display: inline-block;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.ts-date{
  display: block;
  font-size: 12.5px;
  opacity: .75;
  line-height: 1.25;
  white-space: normal;
  overflow-wrap:anywhere;
}

/* If you still want "source · date" on desktop, remove this.
   But user asked date can be taken to next line, so keep it consistent. */

.drawer-overlay{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,.35);
  opacity:0;
  pointer-events:none;
  transition:opacity .2s ease;
  z-index:90;
}
.drawer-overlay.show{
  opacity:1;
  pointer-events:auto;
}
.pricing-drawer{
  position:fixed;
  top:0;
  right:0;
  width:min(360px, 92vw);
  height:100%;
  background:var(--card);
  border-left:1px solid var(--border);
  box-shadow:var(--shadow);
  transform:translateX(100%);
  transition:transform .2s ease;
  z-index:100;
  display:flex;
  flex-direction:column;
  padding:1rem 1.1rem;
  gap:1rem;
}
.pricing-drawer.open{
  transform:translateX(0);
}
.drawer-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
}
.drawer-title{
  font-family:"Merriweather", serif;
  font-size:1.2rem;
  font-weight:700;
}
.drawer-sub{
  color:var(--muted);
  font-size:.82rem;
}
.drawer-body{
  display:flex;
  flex-direction:column;
  gap:.9rem;
}
.pricing-tier{
  border:1px solid var(--border);
  border-radius:16px;
  padding:.9rem 1rem;
  background:color-mix(in oklab, var(--card) 90%, var(--chip) 10%);
  display:flex;
  flex-direction:column;
  gap:.6rem;
}
.pricing-tier.highlight{
  border-color:color-mix(in oklab, var(--brand) 30%, var(--border) 70%);
  background:color-mix(in oklab, var(--brand) 10%, var(--card) 90%);
}
.tier-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.5rem;
}
.tier-title{
  font-weight:700;
}
.tier-price{
  font-weight:700;
  color:var(--brand);
}
.pricing-tier ul{
  margin:0;
  padding-left:1.1rem;
  color:var(--muted);
  font-size:.85rem;
}
.btn.primary{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:var(--brand);
  color:#fff;
  text-decoration:none;
  border:1px solid transparent;
}

.page-shell{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  gap:1.5rem;
  padding:1.2rem 1.2rem 2rem;
  max-width:960px;
  margin:0 auto;
}
.page-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:1rem;
}
.page-logo{
  font-size:1.4rem;
  font-weight:800;
}
.page-nav{
  display:flex;
  gap:.8rem;
  color:var(--muted);
  font-weight:600;
}
.page-content{
  display:flex;
  flex-direction:column;
  gap:1.2rem;
}
.page-title{
  font-family:"Merriweather", serif;
  font-size:2rem;
}
.page-lede{
  color:var(--muted);
  max-width:680px;
}
.page-card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:1rem 1.1rem;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  gap:.6rem;
}
.page-card ul{
  margin:0;
  padding-left:1.2rem;
  color:var(--muted);
}
.page-footer{
  display:flex;
  gap:.5rem;
  align-items:center;
  color:var(--muted);
  font-size:.9rem;
}
.api-endpoint pre{
  margin:0;
  background:color-mix(in oklab, var(--card) 86%, var(--chip) 14%);
  border-radius:12px;
  padding:.8rem;
  font-size:.8rem;
  overflow:auto;
}
.api-table{
  width:100%;
  border-collapse:collapse;
  font-size:.9rem;
}
.api-table th,
.api-table td{
  text-align:left;
  border-bottom:1px solid var(--border);
  padding:.5rem 0;
}

@media (max-width: 720px){
  .ts-date{
    font-size: 12px;
  }
}
